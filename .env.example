# ==============================================================================
# SAAS RESTO - Environment Variables
# ==============================================================================
# Copy this file to .env and fill in the values
# NEVER commit .env to version control

# ------------------------------------------------------------------------------
# DATABASE
# ------------------------------------------------------------------------------
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
DATABASE_URL="postgresql://postgres:issa@localhost:5432/saasresto?schema=public"

# ------------------------------------------------------------------------------
# APPLICATION
# ------------------------------------------------------------------------------
# Base domain for the application (without protocol)
# Dev: saasresto.localhost or saasresto.test
# Prod: saasresto.isprojets.cloud
APP_BASE_DOMAIN="saasresto.localhost"

# Application URL (used for absolute URLs, emails, etc.)
# Dev: http://localhost:3000 or https://demo.saasresto.localhost
# Prod: https://demo.saasresto.isprojets.cloud
APP_URL="http://localhost:3000"

# Environment: development | production
NODE_ENV="development"

# Port for Next.js server
PORT=3000

# ------------------------------------------------------------------------------
# SECURITY
# ------------------------------------------------------------------------------
# Secret for signing tokens (generate with: openssl rand -hex 32)
AUTH_SECRET="your-super-secret-key-change-this-in-production"

# Session duration in days
SESSION_TTL_DAYS=7

# Secure cookies (set to true in dev-like and production with HTTPS)
COOKIE_SECURE="false"

# Cookie domain (for cross-subdomain auth in backoffice if needed)
# Leave empty for same-origin only
COOKIE_DOMAIN=""

# Rate limiting (requests per window)
RATE_LIMIT_LOGIN_MAX=5
RATE_LIMIT_LOGIN_WINDOW_MS=60000

# ------------------------------------------------------------------------------
# FILE UPLOADS
# ------------------------------------------------------------------------------
# Directory for uploaded files (relative to project root or absolute)
UPLOAD_DIR="./uploads"

# Maximum file size in bytes (5MB default)
MAX_FILE_SIZE=5242880

# Allowed file types (comma-separated MIME types)
ALLOWED_FILE_TYPES="image/jpeg,image/png,image/webp,image/gif"

# Public URL prefix for uploaded files
UPLOAD_URL_PREFIX="/uploads"

# ------------------------------------------------------------------------------
# LOGGING
# ------------------------------------------------------------------------------
# Log level: debug | info | warn | error
LOG_LEVEL="info"

# ------------------------------------------------------------------------------
# PASSWORD RESET
# ------------------------------------------------------------------------------
# Password reset token expiration in minutes
PASSWORD_RESET_TTL_MIN=60

# Support email for password reset
SUPPORT_EMAIL="no-reply@saasresto.localhost"

# Application base URL (used for emails)
APP_BASE_URL="https://app.saasresto.localhost"

# ------------------------------------------------------------------------------
# EMAIL (Gmail SMTP)
# ------------------------------------------------------------------------------
# Email provider: gmail_smtp
EMAIL_PROVIDER="gmail_smtp"

# Gmail SMTP settings
# NOTE: SMTP_PASS must be a Google App Password (not your regular password)
# Enable 2FA on your Google account, then create an App Password at:
# https://myaccount.google.com/apppasswords
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=465
SMTP_SECURE=true
SMTP_USER="yourgmail@gmail.com"
SMTP_PASS="your_google_app_password"
SMTP_FROM_NAME="SaaS Resto"
SMTP_FROM_EMAIL="yourgmail@gmail.com"

# ------------------------------------------------------------------------------
# DEV-LIKE / PRODUCTION SPECIFIC
# ------------------------------------------------------------------------------
# Enable HSTS header (only in production with proper HTTPS)
ENABLE_HSTS="false"

# CSP report URI (optional)
CSP_REPORT_URI=""

# ------------------------------------------------------------------------------
# CADDY (for wildcard TLS in production via DNS-01)
# ------------------------------------------------------------------------------
# DNS provider for ACME DNS-01 challenge
# Example for Cloudflare:
# CLOUDFLARE_API_TOKEN="your-cloudflare-api-token"
# 
# Example for Route53:
# AWS_ACCESS_KEY_ID="your-aws-key"
# AWS_SECRET_ACCESS_KEY="your-aws-secret"
# AWS_REGION="us-east-1"
